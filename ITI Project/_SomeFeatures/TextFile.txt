{
امته احتاج اجيب حجم داتا بيز
هي ليها كذا احتمال
يعني اول احتمال ان انت رافع الداتا بيز علي سيرفر مدفوع ومسموح ليك ٢ جيجا للداتا بيز فقط
وبعد كد الداتا بيز هتوقف اي اضافه او تعديل عليها لو وصلت للحجم ده
فانت لازم تبقي عارف المساحه قبلها علشان لو قربت لل ٢ جيجا تعكل حسابك وتزود حجم الداتا بيز
الاحتمال التاني لو عاوز تعمل باك اب للداتا بيز فمحتاج تعرف مشاحه الباك اب هتبقي قد ايه؟
علشان تشوف هل تعمله اسبوعي او شهري او اي وقت وتكون عارف المساحه اللي هتحتاجها برده
هو التطبيق بيطلع منه نسخ للعملاء
فمحتاج اعرف الحجم اللي اخدته كل نسخة او كل عميل على الداتابيز
بس تقريبا كدا هنحتاج نخلي كل عميل على داتابيز منفصلة
1-باستخدام كود ال dotnet
ازاي احسب حجم الداتا بيز اللي المتصلة بالابليكيشن
يعني مثلا api يحسب حجم الداتابيز المستخدمة
الحل:
معاك dapperاو ado
كد معاك sql connection
كد وصلت للداتا بيز نفذ عليها الكويري هيجبلك حجم الداتا بيز
SELECT
database_name = DB_NAME(),
size_in_mb = SUM(size) * 8 / 1024
FROM
sys.master_files
WHERE
type = 0 -- 0 = Data, 1 = Log
}